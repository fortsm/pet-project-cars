# Тестовое задание

## Доклад

В компании предусмотрена возможность выбора служебного автомобиля для служебной поездки из не занятых другими
сотрудниками. В административной части корпоративного сайта необходимо будет размещать актуальную информацию о доступных
для конкретного сотрудника автомобилях на запланированное время поездки.
Дополнительные условия:

- каждая модель автомобиля имеет определенную категорию комфорта (первая, вторая, третья... );
- для определенной должности сотрудников доступны только автомобили определенной категории комфорта (одной или
  нескольких категорий);
- за каждым автомобилем закреплён свой водитель.

1. Нужно написать миграции для создания необходимого количества таблиц в базе данных, установить связи между ними;
2. Реализовать API метод получения списка доступных текущему пользователю на запланированное время автомобилей с
   возможностью фильтрации по модели автомобиля, по категории комфорта;
   Если опыта на Laravel нет, то создать таблицы SQL-запросами в базе данных, и также реализовать API метод получения
   списка доступных автомобилей.

Если в заданиях не хватает каких-то условий, принимать их приближенными к реальности.

## Установка

- [Установка Docker](https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository).
- Скопировать .env файл...

```
cp .env.example .env
```

- установить зависимости composer

```
сomposer install
```

### запуск контейнера

```
./vendor/bin/sail up -d
```

- запуск миграций

```
./vendor/bin/sail artisan migrate --seed
```

- сборка css и js

```
./vendor/bin/sail npm run build
```

### Запросы к API

- Список всех машин

```
http://localhost/api/cars
```

- Список всех машин, доступных пользователю "Руководитель"

```
http://localhost/api/cars?user_id=2
```

- Список всех машин, с категорией комфорта "Люкс"

```
http://localhost/api/cars?category_id=1
```

- Фильтр по модели автомобиля

```
http://localhost/api/cars?model=tesla
```

- Фильтр по дате поездки (занятые автомобили не выводятся)

```
http://localhost/api/cars?user_id=1&from=2024-07-20&till=2024-07-31
```

### Административная часть сайта

- выполнить вход

```
http://localhost/login
login: director@example.com
pass: 123
```

- [Сотрудники](http://localhost/users)
- [Автомобили](http://localhost/cars)
- [Категории автомобилей](http://localhost/categories)
- [Водители](http://localhost/drivers)
- [Поездки](http://localhost/trips)
- [Добавить поездку](http://localhost/trips/create)

Предусмотрена валидация в соответствии с заданием в классе StoreTripRequest

[Скриншот](https://disk.yandex.ru/i/ovg-l84f6l3POA)

### остановка контейнеров

```
./vendor/bin/sail down
```
